{% load static permission_filters %}

<header class="header">
  <nav id="navbar" class="navbar" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="{% url 'home' %}">
          <img src="{% static 'img/logo-name.svg' %}" alt="Stencila" width="112px" height="28px">
          <span style="margin: 0 0.5em">Beta</span>
        </a>
        <div class="navbar-burger" @click="active = !active" :class="{ 'is-active':active }">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
      <div class="navbar-menu" :class="{ 'is-active':active }">
        <div class="navbar-start">
        </div>
        <div class="navbar-end">
          {% if user.is_anonymous %}
            <a class="navbar-item" href="{% url 'user_signin' %}">Sign in</a>
            <a class="navbar-item" href="{% url 'user_signup' %}">Sign up</a>
          {% else %}
            <div class="navbar-item">{{ user.username }}</div>
            {% if user.is_superuser or user|has_group:"Publisher" %}
                <a class="navbar-item" href="{% url 'publisher_main' %}">Publisher</a>
            {% endif %}
            {% if user.is_staff %}
              <a class="navbar-item" href="{% url 'admin:index' %}" target="_blank" rel="noopener">Admin</a>
            {% endif %}
            <a class="navbar-item" href="{% url 'user_settings' %}">Settings</a>
            <a class="navbar-item" href="{% url 'user_signout' %}">Sign out</a>
          {% endif %}
        </div>
      </div>
      <script type="text/javascript">
        new Vue({
          el: '#navbar',
          data: { active: false }
        })
      </script>
    </nav>
  </div>
</header>
